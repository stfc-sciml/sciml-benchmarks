FROM nvcr.io/nvidia/tensorflow:20.01-tf2-py3

RUN apt-get update

COPY requirements.txt /requirements.txt
RUN pip install -r /requirements.txt

ADD . /workspace/
WORKDIR /workspace/

RUN pip install -e . 

EXPOSE 5000
ENV SCIML_BENCH_DATA_DIR /data
ENV SCIML_BENCH_MODEL_DIR /sciml-bench-out

RUN mkdir $SCIML_BENCH_MODEL_DIR

CMD sciml-bench all
